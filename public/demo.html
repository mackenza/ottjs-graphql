<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Ottawa JS GraphQL Demo</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">

</head>

<body>
  <script>
        var request = new XMLHttpRequest();
        var query = encodeURI('query repo {repo(ownerUsername: "mackenza", name: "vimfiles") {name}}') + '&raw';
        console.log(query);
        request.open('GET', 'http://localhost:3000?query=' + query, true);

        request.onload = function() {
          if (request.status >= 200 && request.status < 400) {
            // Success!
            console.log(JSON.parse(request.responseText));
          } else {
            // We reached our target server, but it returned an error
            console.log("oops");
          }
        };

        request.onerror = function() {
          // There was a connection error of some sort
        };

        request.send();
  </script>
</body>
</html>
